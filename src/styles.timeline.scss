:host {
  display: block;
}

.timeline {
  --axis-x: 150px;
  --date-width: 120px;
  position: relative;
  max-width: 1080px;
  margin: 0 auto;
  padding-right: 280px;
  margin-bottom: 500px;
}

.timeline__filters { position: absolute; top: 0; right: 0; width: 240px; display: flex; flex-direction: column; gap: 12px; }
.timeline__filters-group { background: #0b1220; border: 1px solid #1e293b; border-radius: 10px; padding: 10px 12px; }
.timeline__filters-label { display: block; font-size: 12px; color: #93c5fd; margin-bottom: 6px; }

.chip { border: 1px solid #1f2937; background: #0f172a; color: #e5e7eb; padding: 6px 10px; border-radius: 999px; cursor: pointer; font-size: 13px; display: inline-flex; align-items: center; gap: 6px; }
.chip.is-active { background: linear-gradient(90deg, rgba(30,58,138,0.3), rgba(2,6,23,0.3)); border-color: var(--chip-color); color: #e2e8f0; box-shadow: 0 4px 14px rgba(3, 105, 161, 0.25); }
.chip--clear { background: #0b1220; }
.chip__dot { width: 10px; height: 10px; border-radius: 999px; background: var(--chip-color, #e5e7eb); box-shadow: 0 0 0 2px #0f172a inset, 0 0 0 1px #1e293b; }

.timeline__line { position: absolute; left: var(--axis-x); top: 0; bottom: 0; width: 2px; background: #334155; }
.timeline__line-break { position: absolute; left: var(--axis-x); top: -10px; width: 18px; height: 18px; transform: translate(-50%, 0); z-index: 3; background: linear-gradient(45deg, transparent 46%, #93c5fd 46% 54%, transparent 54%), linear-gradient(-45deg, transparent 46%, #93c5fd 46% 54%, transparent 54%); }
.timeline__line-break::before { content: ''; position: absolute; left: 50%; top: 50%; width: 6px; height: 18px; transform: translate(-50%, -50%); background: #0b1220; }

.timeline__popover { position: absolute; left: calc(var(--axis-x) + 32px); top: -4px; z-index: 2; background: linear-gradient(180deg, #0b1220, #0f172a); border: 1px solid #1e293b; border-radius: 12px; padding: 12px 16px; box-shadow: 0 16px 40px rgba(2, 6, 23, 0.6); max-width: min(640px, calc(100% - var(--axis-x) - 64px)); }
.timeline__title { font-size: 17px; color: #e5e7eb; margin: 0 0 4px; }
.timeline__subtitle { font-size: 13px; color: #cbd5e1; margin-bottom: 8px; }
.timeline__desc { font-size: 13px; line-height: 1.4; color: #cbd5e1; margin: 0 0 8px; }

.timeline__photos { display: grid; grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); gap: 8px; margin-bottom: 8px; grid-auto-flow: dense; }
.timeline__media { display: grid; grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); gap: 8px; margin-bottom: 8px; grid-auto-flow: dense; }

.timeline__photos img, .timeline__media img.media { width: 100%; aspect-ratio: 4 / 3; object-fit: cover; border-radius: 8px; border: 1px solid #1e293b; background: #0b1220; transition: box-shadow 0.18s ease, filter 0.18s ease; cursor: zoom-in; }
.timeline__photos img.keep-ratio, .timeline__media img.media.keep-ratio { aspect-ratio: auto; height: auto; object-fit: contain; }
.timeline__photos img.keep-ratio.ratio-wide:not(.is-zoom-1):not(.is-zoom-2) { grid-column: span 2; }
.timeline__photos img.keep-ratio.ratio-ultra:not(.is-zoom-1):not(.is-zoom-2) { grid-column: span 3; }
.timeline__photos img.keep-ratio.ratio-tall:not(.is-zoom-1):not(.is-zoom-2) { grid-row: span 2; }
.timeline__photos img.is-zoom-1, .timeline__media img.media.is-zoom-1 { grid-column: span 2; grid-row: span 2; box-shadow: 0 8px 22px rgba(0,0,0,0.35); }
.timeline__photos img.is-zoom-2, .timeline__media img.media.is-zoom-2 { grid-column: span 3; grid-row: span 2; box-shadow: 0 12px 28px rgba(0,0,0,0.45); cursor: zoom-out; }

.timeline__videos video, .timeline__media video.media { width: 100%; aspect-ratio: 16 / 9; object-fit: cover; border-radius: 8px; border: 1px solid #1e293b; background: #0b1220; transition: box-shadow 0.18s ease, filter 0.18s ease; cursor: zoom-in; }
.timeline__videos video.keep-ratio, .timeline__media video.media.keep-ratio { aspect-ratio: auto; height: auto; object-fit: contain; }
.timeline__videos video.is-zoom-1, .timeline__media video.media.is-zoom-1 { grid-column: span 2; grid-row: span 2; box-shadow: 0 8px 22px rgba(0,0,0,0.35); }
.timeline__videos video.is-zoom-2, .timeline__media video.media.is-zoom-2 { grid-column: span 3; grid-row: span 2; box-shadow: 0 12px 28px rgba(0,0,0,0.45); cursor: zoom-out; }

.timeline__tags { list-style: none; display: flex; flex-wrap: wrap; gap: 6px; padding: 0; margin: 0; }
.timeline__tag { font-size: 12px; padding: 2px 8px; background: #0b1220; color: #e2e8f0; border: 1px solid #1e293b; border-radius: 999px; }

